<!DOCTYPE html>
<html>
<head>
    <script src="js/portabullconfig.js"></script>
    <link rel="stylesheet" href="loginsuccessfull.css">
    <script src="login.js"></script>
    <script src="logout.js"></script>
    <style>


.logo {

}

.logo img {
  width: 27px;
  margin-right: 0.3rem;
}

.logo h4 {
  font-size: 1.1rem;
  margin-top: -9px;
  letter-spacing: -0.5px;
  color: #151111;
}

   .settingsButton {
        border: none;
            color: white;
            padding: 15px 32px;


                       height:160px;
            width:150px;

        }

         .settingsButton:hover {
            -webkit-transform: translateY(-5px);
            transform: translateY(-10px);
        }


  .documentButton {

            border: none;
            color: white;
            padding: 15px 32px;

            height:160px;
            width:150px;

        }


       .documentButton:hover {
            -webkit-transform: translateY(-5px);
            transform: translateY(-10px);
        }



  .messageButton {

            border: none;
            color: white;
            padding: 15px 32px;

            height:160px;
            width:150px;

        }

 .messageButton:hover {
            -webkit-transform: translateY(-5px);
            transform: translateY(-10px);
        }


  .notificationButton {

            border: none;
            color: white;
            padding: 15px 32px;

            height:160px;
            width:150px;

        }


 .notificationButton:hover {
            -webkit-transform: translateY(-5px);
            transform: translateY(-10px);
        }


        .spf {

            border: none;
            color: white;
            padding: 15px 32px;

            height:160px;
            width:150px;

        }


 .spf:hover {
            -webkit-transform: translateY(-5px);
            transform: translateY(-10px);
        }


        .emailButton {

            border: none;
            color: white;
            padding: 15px 32px;

            height:160px;
            width:150px;

        }


 .emailButton:hover {
            -webkit-transform: translateY(-5px);
            transform: translateY(-10px);
        }

            .misReportsButton {

            border: none;
            color: white;
            padding: 15px 32px;

            height:160px;
            width:150px;

        }


 .misReportsButton:hover {
            -webkit-transform: translateY(-5px);
            transform: translateY(-10px);
        }



    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
</head>
<body>

<div id="myDiv" style="text-align:center">

<div align="right">


<a href="#" onclick="logout()" class="btn btn-info btn-lg">        <span class="glyphicon glyphicon-log-out"></span> Log out    </a>

</div>

<br><br>

<div align="center">

    <div class="wrapper" >
        <div class="search-input">
            <a href="" target="_blank" hidden></a>
            <input type="text" placeholder="Type to search...">
            <div class="autocom-box">
                <!-- here list are inserted from javascript -->
            </div>
            <div class="icon"><i class="fas fa-search"></i></div>
        </div>
    </div>
</div>

<br><br>

<div id="showHoverOptionDiv" align="center">


</div>

<div align="center">


    <input class="documentButton" type="image"
           src="images/source-documents-1024x682.jpeg" draggable="false"  onmouseover="showHoverOption('Documents')"  onmouseleave="clearshowHoverOption()" id="documentButton"/>

    <input class="settingsButton" type="image" src="images/setting-2872383-2389560.jpg"
           onmouseover="showHoverOption('Settings')" draggable="false"  onmouseleave="clearshowHoverOption()" id="settingsButton"/>



    <input class="messageButton" type="image"
           src="images/message.webp"
           onmouseover="showHoverOption('Message')" draggable="false"  onmouseleave="clearshowHoverOption()" id="messageButton"/>


    <input class="notificationButton" type="image"
           onmouseover="showHoverOption('Notifications')" draggable="false"  onmouseleave="clearshowHoverOption()"  src="images/notifications.webp" id="notificationButton">



    <input class="spf" type="image"
           src="images/portabull.png" draggable="false"   onmouseover="showHoverOption('SPF')" onmouseleave="clearshowHoverOption()" id="spf">

    <input class="emailButton" type="image"
           src="images/email.jpg" draggable="false"  onmouseover="showHoverOption('Email')" onmouseleave="clearshowHoverOption()" id="emailButton"/>

    <input class="misReportsButton" type="image"
           src="images/reports.jpg" draggable="false"  onmouseover="showHoverOption('Mis Reports')" onmouseleave="clearshowHoverOption()" id="misReportsButton">

</div>

<br><br><br><br><br><br>

    <div class="logo" align="center">
        <h4>Powered by : <span> <img src="./img/logo.png" alt="portabull" /> </span> </h4>
    </div>

</div>


<script type="text/javascript">
    document.getElementById("documentButton").onclick = function () {
        location.href = "documents.html";
    };
</script>

<script type="text/javascript">
    document.getElementById("settingsButton").onclick = function () {
        location.href = "userprofile.html";
    };
</script>


<script type="text/javascript">
    document.getElementById("messageButton").onclick = function () {

        var xhr = new XMLHttpRequest();

        xhr.open("POST", BASE_URL + "UM/get-user-name");

        xhr.setRequestHeader("Accept", "application/json");


        xhr.setRequestHeader("Content-Type", "application/json");

        xhr.setRequestHeader("Authorization", window.localStorage.getItem('token'));

        var data = JSON.stringify({});

        xhr.send(data);

        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                console.log(xhr.status);
                console.log(xhr.responseText);

                const response = JSON.parse(xhr.responseText);

                if (response.statusCode == 200) {
                    location.href = "http://portabull.in:8087?aa="+response.data;
                }else{
                    alert("Please Login Again Session Expired");
                }
            }
        };
    };
</script>




<script type="text/javascript">
    document.getElementById("emailButton").onclick = function () {
        location.href = "emails.html";
    };
</script>




<script type="text/javascript">
    document.getElementById("spf").onclick = function () {
        location.href = "callistpage1.html";
    };
</script>


<script type="text/javascript">
    document.getElementById("notificationButton").onclick = function () {
        location.href = "notificationButton.html";
    };
</script>



<script type="text/javascript">
    document.getElementById("misReportsButton").onclick = function () {
        location.href = "adminmisreports.html";
    };
</script>

<script src="js/suggestions.js"></script>
<script src="js/script.js"></script>

<script>

function clearshowHoverOption(){

var showHoverOptionDiv = document.querySelector('#showHoverOptionDiv');

    showHoverOptionDiv.innerHTML = '<br><br><br><br><br><br><br><br><br><br>';


}

function showHoverOption(optionName){

var showHoverOptionDivInner ='';

var showHoverOptionDiv = document.querySelector('#showHoverOptionDiv');

    if(optionName == 'Documents'){

     showHoverOptionDivInner = '<input class="documentButton" type="image" src="images/source-documents-1024x682.jpeg" id="documentButton"/><p>Documents</p>';

    }else if(optionName == 'Settings'){


     showHoverOptionDivInner = '<input class="documentButton" type="image" src="images/setting-2872383-2389560.jpg" id="documentButton"/><p>Settings</p>';

    }else if(optionName == 'Message'){

     showHoverOptionDivInner = '<input class="documentButton" type="image" src="images/message.webp" id="documentButton"/><p>Message</p>';

    }else if(optionName == 'Notifications'){

     showHoverOptionDivInner = '<input class="documentButton" type="image" src="images/notifications.webp" id="documentButton"/><p>Notifications</p>';

    } else if(optionName == 'SPF'){

     showHoverOptionDivInner = '<input class="documentButton" type="image" src="images/portabull.png" id="documentButton"/><p>SPF</p>';

    } else if(optionName == 'Email'){

     showHoverOptionDivInner = '<input class="documentButton" type="image" src="images/email.jpg" id="documentButton"/><p>Email</p>';

    } else{

     showHoverOptionDivInner = '<input class="documentButton" type="image" src="images/reports.jpg" id="documentButton"/><p>Mis Reports</p>';

    }

    showHoverOptionDiv.innerHTML = showHoverOptionDivInner;

}

    initToken();
    function initToken(){


const div = document.getElementById("myDiv");
div.addEventListener("contextmenu", (e) => {e.preventDefault()});


var showHoverOptionDiv = document.querySelector('#showHoverOptionDiv');

    showHoverOptionDiv.innerHTML = '<br><br><br><br><br><br><br><br><br><br>';

     var jwtToken = new URL(window.location.href).searchParams.get("jwt");
     var userName = new URL(window.location.href).searchParams.get("userName");
     var twoStepVer = new URL(window.location.href).searchParams.get("twoStepVer");

     if(jwtToken!=null){
        window.localStorage.setItem('isUserLoggedViaOAuth',true);
        window.localStorage.setItem('token', 'Bearer ' + jwtToken);
        if(twoStepVer!=null && "true"==twoStepVer){
         sendOtp(userName);
         window.location.href = "otp.html";
         return;
        }
     }
     if(window.localStorage.getItem('registrationCheck') == null || !window.localStorage.getItem('registrationCheck')){
     loadLoggedInPages();
     }

    }
  loadTimeAndLogout();
</script>


</body>
</html>
